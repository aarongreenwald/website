<div metal:use-macro="layout">
    <div metal:fill-slot="content">
        <div class="blog-title"><a href="/blog">My Coding Blog</a> 
        	<div class="blog-tagline">because there weren't enough programming blogs out there yet</div>
        </div>
        <!--For SEO, use a combination of server-side and client-side rendering.
        	Initially, send back either a list of posts or a single post. 
        	Based on what comes back is what I'll display. 
        	Once on the page, if clicking a link, just replace the content
        	with JSON that comes back.  But then I need to change the url...maybe I need to 
        	do everything statically? Start static and try to figure out how to load more data without 
        	reloading everything but changing the url
         -->
         <div class="content">
         	<div tal:attributes="class 'hide' if not showing_tag else 'tag-notice'">
         		Showing posts tagged <span class="tag">${showing_tag}</span> <a class="pull-right" href="/blog">view all</a>
         	</div>
         	<div tal:attributes="class 'post hide' if post_list else 'post'">
         		<div class="post-title">${post.title}</div>
         		<div class="post-date">${post.date}</div>
         		<div class="post-content">${structure: post.content}</div>
         		<div style="margin-bottom:30px;" class="tags"><a tal:repeat="tag post.tags" href="/blog/tag/${tag}" title="View posts tagged '${tag}'">${tag}</a></div>                
         	</div>
         	
     		<div class="post post-list" tal:repeat="post post_list">
         		<div class="post-title"><a href="/blog/${post.slug}">${post.title}</a></div>
         		<div class="post-date">${post.date}</div>
         		<div class="post-content">${structure: post.content} <a title="read more..." href="/blog/${post.slug}">...</a>
         			<div class="tags"><a tal:repeat="tag post.tags" href="/blog/tag/${tag}" title="View posts tagged '${tag}'">${tag}</a></div>
         		</div>
     		</div>
            <div style="margin:30px 0;width: 100%;text-align: center;" tal:attributes="class 'hide' if post_list else ''">
                <button id="load-comments" class="btn btn-default" onclick="startDisqus();">Load Comments</button>
            </div>
            <div tal:attributes="class 'hide' if post_list else ''"> 
            <div id="disqus_thread"></div>
            <script>
                /* * * CONFIGURATION VARIABLES * * */
                var disqus_shortname = 'aarongreenwald'
                                
                var startDisqus = (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    
                    document.getElementById('load-comments').style.display = 'none'
                })
                                
            </script>
            <noscript>Comments are not enabled unless JavaScript is enabled. Please enable JavaScript to access blog comments.</noscript>
         </div>  
         </div>   	                  
         <div class="sidebar"> 
         	<div class="about">
         		You're reading Aaron Greenwald's coding blog,
         		where he writes infrequently about code, software and programming.
         		He doesn't usually write about himself in third-person, but 
         		taglines are always awkward.
         	</div> 
         </div>       
    </div>
</div>
<style>
@media screen only and (min-width:900px){
   /*override the global #content positioning*/
    #content {
        margin-left:10vw;
        max-width:80vw;
        margin-right:10vw;
    }   
}
</style>